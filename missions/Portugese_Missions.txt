portugal_discovers_the_west_african_coast = {

	type = country
	
	category = DIP
	
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		OR = {
			has_idea = quest_for_the_new_world
			num_of_explorers = 1
		}
		num_of_ports = 1
		NOT = { west_african_coast = { has_discovered =  ROOT } }
		west_african_coast = { range = ROOT }
	}
	abort = {
		OR = {
			NOT = { num_of_ports = 1 }
			AND = {
				NOT = { has_idea = quest_for_the_new_world }
				NOT = { num_of_explorers = 1 }
			}
		}
	}
	success = {
		west_african_coast = {
			has_discovered = ROOT
		}
	}
	chance = {
		factor = 2000
		modifier = {
			factor = 2
			num_of_explorers = 1
		}
	}
	effect = {
		add_dip_power = 25
	}
}


portuguese_colony_in_west_africa = {

	type = country
	
	category = DIP
	
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		OR = {
			has_idea = quest_for_the_new_world
			num_of_explorers = 1
		}
		num_of_ports = 1
		num_of_colonists = 1
		west_african_coast = {
			has_discovered = ROOT
			is_empty = yes
		}
		NOT = { west_african_coast = { owned_by = ROOT } }
		NOT = { has_country_modifier = colonial_enthusiasm }
	}
	abort = {
		OR = {
			AND = {
				NOT = { has_idea = quest_for_the_new_world }
				NOT = { num_of_explorers = 1 }
			}
			NOT = { num_of_ports = 1 }
			AND = {
				NOT = { west_african_coast = { owned_by = ROOT } }
				NOT = { west_african_coast = { is_empty = yes } }
			}
		}
	}
	success = {
		west_african_coast = { owned_by = ROOT }
	}
	chance = {
		factor = 3000
		modifier = {
			factor = 2
			dip = 4
		}
	}
	effect = {
		add_country_modifier = {
			name = "colonial_enthusiasm"
			duration = 3650
		}
	}
}


conquer_tangiers = {

	type = country

	category = MIL
	ai_mission = yes
	
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		is_subject = no
		religion = catholic
		NOT = { owns = 334 }		# Tangiers
		334 = {
			owner = {
				religion_group = muslim
				NOT = { alliance_with = POR }
			}
		}
	}
	abort = {
		OR = {
			is_subject = yes
			NOT = { religion = catholic }
			334 = {
				owner = {
					religion_group = christian
					NOT = { tag = ROOT }
				}
			}
		}
	}
	success = {
		owns = 334
		is_core = 334
	}
	chance = {
		factor = 2000
		modifier = {
			factor = 2
			owns = 1751
		}
		modifier = {
			factor = 2
			mil = 4
		}
		modifier = {
			factor = 2
			mil = 6
		}
	}
	immediate = {
		add_claim = 334
	}
	abort_effect = {
		remove_claim = 334
	}
	effect = {
		add_adm_power = 200
		add_prestige = 5
	}
}


conquer_ceuta = {

	type = country

	category = MIL
	ai_mission = yes
	
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		is_subject = no
		religion = catholic
		NOT = { owns = 1751 }		# Ceuta
		1751 = {
			owner = {
				religion_group = muslim
				NOT = { alliance_with = POR }
			}
		}
	}
	abort = {
		OR = {
			is_subject = yes
			NOT = { religion = catholic }
			1751 = {
				owner = {
					religion_group = christian
					NOT = { tag = ROOT }
				}
			}
		}
	}
	success = {
		owns = 1751
		is_core = 1751
	}
	chance = {
		factor = 3000
		modifier = {
			factor = 2
			mil = 4
		}
		modifier = {
			factor = 2
			mil = 6
		}
	}
	immediate = {
		add_claim = 1751
	}
	abort_effect = {
		remove_claim = 1751
	}
	effect = {
		add_adm_power = 200
		add_prestige = 5
	}
}

conquer_the_north_african_coast = {

	type = country

	category = MIL
	ai_mission = yes
	
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		is_subject = no
		religion = catholic
		OR = {
			owns = 334		# Tangiers
			owns = 1751		# Ceuta
		}
		NOT = { owns = 342 }	# Toubkhal
		342 = {
			owner = {
				religion_group = muslim
				NOT = { alliance_with = ROOT }
			}
		}
		NOT = { has_country_modifier = military_victory }
	}
	abort = {
		OR = {
			is_subject = yes
			NOT = { religion = catholic }
			342 = {
				owner = {
					religion_group = christian
					NOT = { tag = ROOT }
				}
			}
		}
	}
	success = {
		owns = 342
		is_core = 342
	}
	chance = {
		factor = 3000
		modifier = {
			factor = 2
			mil = 4
		}
	}
	immediate = {
		add_claim = 342
	}
	abort_effect = {
		remove_claim = 342
	}
	effect = {
		add_country_modifier = {
			name = "military_victory"
			duration = 3650
		}
	}
}


portugal_discovers_south_america = {

	type = country

	category = DIP
	
	allow = {
		normal_or_historical_nations = yes
		NOT = { has_country_modifier = colonial_enthusiasm }
		tag = POR
		OR = {
			has_idea = quest_for_the_new_world
			num_of_explorers = 1
		}
		num_of_ports = 1
		NOT = { brazil_region = { has_discovered = ROOT } }
		brazil_region = { range = ROOT }
	}
	abort = {
		OR = {
			NOT = { num_of_ports = 1 }
			AND = {
				NOT = { has_idea = quest_for_the_new_world }
				NOT = { num_of_explorers = 1 }
			}
		}
	}
	success = {
		brazil_region = {
			has_discovered = ROOT
		}
	}
	chance = {
		factor = 2000
		modifier = {
			factor = 2
			adm = 3
		}
		modifier = {
			factor = 2
			adm = 4
		}		
		modifier = {
			factor = 2
			adm = 5
		}
	}
	effect = {
		add_dip_power = 25
		add_country_modifier = {
			name = "colonial_enthusiasm"
			duration = 3650
		}
	}
}


portuguese_brazil = {

	type = country
	
	category = MIL
	
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		NOT = { has_country_modifier = colonial_enthusiasm }
		OR = {
			has_idea = quest_for_the_new_world
			num_of_explorers = 1
		}
		num_of_ports = 1
		brazil_region = {
			has_discovered = ROOT
			is_empty = yes
		}
		NOT = { brazil_region = { country_or_vassal_holds = ROOT } }
	}
	abort = {
		OR = {
			AND = {
				NOT = { has_idea = quest_for_the_new_world }
				NOT = { num_of_explorers = 1 }
			}
			NOT = { num_of_ports = 1 }
			AND = {
				NOT = { brazil_region = { owned_by = ROOT } }
				NOT = { brazil_region = { is_empty = yes } }
			}
		}
	}
	success = {
		brazil_region = { owned_by = ROOT }
	}
	chance = {
		factor = 3000
		modifier = {
			factor = 2
			adm = 4
		}
	}
	effect = {
		add_country_modifier = {
			name = "colonial_enthusiasm"
			duration = 3650
		}
	}
}


brazil_belongs_to_portugal = {

	type = country
	
	category = MIL
	
	target_provinces = {
		region = brazil_region
		owned_by = CAS
	}
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		NOT = { has_country_modifier = colonial_enthusiasm }
		is_subject = no
		brazil_region = { owned_by = ROOT }
		brazil_region = { owned_by = CAS }
		NOT = { alliance_with = CAS }
		NOT = { war_with = CAS }
	}
	abort = {
		OR = {
			is_subject = yes
			NOT = { brazil_region = { owned_by = ROOT } }
			NOT = { brazil_region = { owned_by = CAS } }
		}
	}
	success = {
		NOT = { war_with = CAS }
		NOT = { brazil_region = { owned_by = CAS } }
		brazil_region = { owned_by = ROOT }
	}
	chance = {
		factor = 3000
		modifier = {
			factor = 2
			mil = 4
		}
	}
	immediate = {
		every_target_province = {
			add_claim = ROOT
		}
	}
	abort_effect = {
		every_target_province = {
			remove_claim = ROOT
		}
	}
	effect = {
		add_country_modifier = {
			name = "colonial_enthusiasm"
			duration = 3650
		}
	}
}


brazil_to_portugal = {

	type = country
	
	category = MIL
	
	target_provinces = {
		region = brazil_region
		owned_by = SPA
	}
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		NOT = { has_country_modifier = colonial_enthusiasm }
		is_subject = no
		brazil_region = { owned_by = ROOT }
		brazil_region = { owned_by = SPA }
		NOT = { alliance_with = SPA }
		NOT = { war_with = SPA }
	}
	abort = {
		OR = {
			is_subject = yes
			NOT = { brazil_region = { owned_by = ROOT } }
			NOT = { brazil_region = { owned_by = SPA } }
		}
	}
	success = {
		NOT = { war_with = SPA }
		NOT = { brazil_region = { owned_by = SPA } }
		brazil_region = { owned_by = ROOT }
	}
	chance = {
		factor = 3000
		modifier = {
			factor = 2
			mil = 4
		}
	}
	immediate = {
		every_target_province = {
			add_claim = ROOT
		}
	}
	abort_effect = {
		every_target_province = {
			remove_claim = ROOT
		}
	}
	effect = {
		add_country_modifier = {
			name = "colonial_enthusiasm"
			duration = 3650
		}
	}
}


portugal_discovers_india = {
	
	type = country

	category = DIP
	
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		NOT = { has_country_modifier = colonial_enthusiasm }
		OR = {
			has_idea = quest_for_the_new_world
			num_of_explorers = 1
		}
		num_of_ports = 1
		west_african_coast = { has_discovered = ROOT }
		NOT = { indian_coast = { has_discovered = ROOT } }
		indian_coast = { range = ROOT }
	}
	abort = {
		OR = {
			NOT = { num_of_ports = 1 }
			AND = {
				NOT = { has_idea = quest_for_the_new_world }
				NOT = { num_of_explorers = 1 }
			}
		}
	}
	success = {
		indian_coast = {
			has_discovered = ROOT
		}
	}
	chance = {
		factor = 1000
		modifier = {
			factor = 2
			has_idea = land_of_opportunity
		}
		modifier = {
			factor = 2
			has_idea = colonial_ventures
		}
	}
	effect = {
		add_dip_power = 25
		add_country_modifier = {
			name = "colonial_enthusiasm"
			duration = 3650
		}
	}
}

portugal_discovers_indonesia = {

	type = country
	
	category = DIP
	
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		NOT = { has_country_modifier = colonial_enthusiasm }
		OR = {
			has_idea = quest_for_the_new_world
			num_of_explorers = 1
		}
		num_of_ports = 1
		west_african_coast = { has_discovered = ROOT }
		NOT = { indonesian_region = { has_discovered = ROOT } }
		indonesian_region = { range = ROOT }
	}
	abort = {
		OR = {
			AND = {
				NOT = { has_idea = quest_for_the_new_world }
				NOT = { num_of_explorers = 1 }
			}
			NOT = { num_of_ports = 1 }
		}
	}
	success = {
		indonesian_region = {
			has_discovered = ROOT
		}
	}
	chance = {
		factor = 1000
		modifier = {
			factor = 2
			innovativeness_ideas = 4
		}
		modifier = {
			factor = 2
			num_of_explorers = 1
		}
	}
	effect = {
		add_dip_power = 25
		add_country_modifier = {
			name = "colonial_enthusiasm"
			duration = 3650
		}
	}
}

portuguese_colony_in_indonesia = {
	
	type = country
	ai_mission = yes
	
	category = MIL
	
	target_provinces = {
		region = indonesian_region
		has_discovered = ROOT
		range = ROOT
		has_port = yes
		owner = { NOT = { alliance_with = ROOT } }
	}
	allow = {
		normal_or_historical_nations = yes
		always = no #replaced by general mission to do the same thing.
		tag = POR
		is_subject = no
		has_idea = quest_for_the_new_world
		num_of_ports = 1
		num_of_colonists = 1
		indonesian_region = {
			has_discovered = ROOT
			range = ROOT
			has_port = yes
			owner = { NOT = { alliance_with = ROOT } }
		}
		NOT = {
			indonesian_region = { 
				owned_by = ROOT 
			}
		}
		FROM = { NOT = { alliance_with = ROOT } }
	}
	abort = {
		OR = {
			AND = {
				NOT = { has_idea = quest_for_the_new_world }
				NOT = { num_of_explorers = 1 }
			}
			NOT = { num_of_ports = 1 }
			AND = {
				NOT = { indonesian_region = { is_empty = yes } }
				NOT = { indonesian_region = { owned_by = ROOT } }
			}
		}
	}
	success = {
		indonesian_region = { owned_by = ROOT }
	}
	chance = {
		factor = 1000
		modifier = {
			factor = 2
			has_idea = land_of_opportunity
		}
		modifier = {
			factor = 2
			has_idea = colonial_ventures
		}
		modifier = {
			factor = 2
			num_of_colonists = 2
		}
		modifier = {
			factor = 2
			num_of_colonists = 3
		}
	}
	immediate = {
		every_target_province = {
			add_claim = ROOT
		}
	}
	abort_effect = {
		every_target_province = {
			remove_claim = ROOT
		}
	}
	effect = {
		add_country_modifier = {
			name = "east_india_trade_rush"
			duration = 3650
		}
	}
}


establish_trade_in_indonesian_cot_por = {
	
	type = country

	category = DIP
	
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		indonesian_region = {
			has_discovered = ROOT
		}
		NOT = {
			1361 = {		# Straits of Johor
				is_strongest_trade_power = POR
			}
		}
		NOT = { has_country_modifier = east_india_trade_rush }
		NOT = { has_country_flag = establish_trade_in_indonesian_cot_por }
	}
	abort = {
	}
	success = {
		1361 = {		# Straits of Johor
			is_strongest_trade_power = POR
		}
	}
	chance = {
		factor = 1000
		modifier = {
			factor = 2
			has_idea = land_of_opportunity
		}
		modifier = {
			factor = 2
			has_idea = shrewd_commerce_practise
		}
	}
	effect = {
		add_country_modifier = {
			name = "east_india_trade_rush"
			duration = 3650
		}
		set_country_flag = establish_trade_in_indonesian_cot_por
	}
}


portugal_discovers_the_far_east = {

	type = country
	
	category = DIP
	
	allow = {
		normal_or_historical_nations = yes
		tag = POR
		OR = {
			has_idea = quest_for_the_new_world
			num_of_explorers = 1
		}
		num_of_ports = 1
		west_african_coast = { has_discovered = ROOT }
		indian_coast = { has_discovered = ROOT }
		NOT = { japanese_region = { has_discovered = ROOT } }
		NOT = { chinese_coast = { has_discovered = ROOT } }
		japanese_region = { range = ROOT }
		chinese_coast = { range = ROOT }
	}
	abort = {
		OR = {
			AND = {
				NOT = { has_idea = quest_for_the_new_world }
				NOT = { num_of_explorers = 1 }
			}
			NOT = { num_of_ports = 1 }
		}
	}
	success = {
		japanese_region = { has_discovered = ROOT }
		chinese_coast = { has_discovered = ROOT }
	}
	chance = {
		factor = 1000
		modifier = {
			factor = 2
			innovativeness_ideas = 4
		}
		modifier = {
			factor = 2
			num_of_explorers = 1
		}
	}
	effect = {
		add_prestige = 10
		add_dip_power = 50
	}
}
